https://usaco.org/index.php?page=viewproblem2&cpid=1402

Solution：
最大的a[i]不会影响别人，可以从最大的a[i]处拆环。然后用单调队列遍历每个a[i]，i只有在被右边比它小的j踢掉的时候会对总量产生影响。每个i在入队列时，可以认为在时间区间[1,n]上先dt+a[i]，然后在被j踢掉时在时间区间[j-i,n]上dt-(a[i]-a[j])。然后某个j在踢掉队列里的i时有可能i已经踢掉了一些k，而这些k必然是连续的区间，设为[l,r]，那么j踢掉i产生的影响是在[j-l,j-r]上同时删掉a[j]-a[i]。用一个差值数组维护D，j踢掉i相当于j-l处-(a[j]-a[i])再在j-r+1处+(a[j]-a[i])。然后再用一个dt变量遍历D数组，那么在[j-l,j-r]区间内dt会不停地累加上(a[j]-a[i])。
